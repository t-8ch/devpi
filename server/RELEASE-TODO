Web
--------------

- remove keyfs.mkdtempdir() / web needs to manage its own directories

- test result view, link to that view from index view and "info page"
  Should test results be searchable?

- info page: "classifiers": should default to "short view" which just
  lists "dev status", "license", "Operating system", "Topic" definitions
  in a single line and be clicked to get a long view

replication issues
------------------------

- each master and replica should have IDs and they should be verified
  before replication is performed.  If the master is recreated the replica
  should be able to notice and not blindly replicate / get stuck.
  Maybe another safety measure is to have each changelog contain
  a hash of the last changelog.

- replica/master authentication handling: currently salt-hashed passwords leak through
  replication protocol.  Should replica's get a key which needs to be generated
  by the master?   Should the master require "root" authentication?
  Or should we just allow the read access and make it an external deployment problem
  how to protect ``/+changelog/*`` urls?

- replica thread in master does not die if the client is gone.
  We should finish the request after some MAXPERIOD.

- ProjectChanged should deal with deleted entries (it breaks currently)
  (maybe refactor projconfig into multiple version-data files
  which would make things more efficient likely.) Exc:
    Traceback (most recent call last):
      File "/home/hpk/p/devpi/server/devpi_server/keyfs.py", line 249, in _execute_hooks
        sub(ev)
      File "/home/hpk/p/devpi/server/devpi_server/model.py", line 593, in __call__
        for ver, metadata in projconfig.items():
    AttributeError: 'NoneType' object has no attribute 'items'
    2014-06-12 17:39:16,519 DEBUG [NOTI] calling <devpi_server.model

- look into EXC:
  Traceback (most recent call last):
  File "/home/hpk/p/devpi/server/devpi_server/keyfs.py", line 249, in _execute_hooks
    sub(ev)
  File "/home/hpk/p/devpi/server/devpi_server/model.py", line 589, in __call__
    old = keyfs.get_value_at(ev.typedkey, ev.back_serial)
  File "/home/hpk/p/devpi/server/devpi_server/keyfs.py", line 319, in get_value_at
    raise KeyError(relpath)  # was deleted
KeyError: u'user1/dev/hello/.config'
  
  
keyfs 
------------------

- durability: fsync on commit, ensure that half-written transactions are correctly
  cleaned up at the next restart.  

- remove unbounded cache for transaction entries (repoze.lru?)

ext pypi mirror
--------------------

- what happens when the master is upgraded / removes root/pypi state?
